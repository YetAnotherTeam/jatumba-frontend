<div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
mdl-layout--fixed-header">
    <div class="mdl-layout__drawer">
        <span class="mdl-layout-title" style="line-height: 25px;">Выбор инструмента:</span>
        <nav class="mdl-navigation">

            <a class="mdl-navigation__link"
               *ngFor="#instrument of instrumentList"
               [ngClass]="{
                   'mdl-navigation__link--current': instrument.active
               }"
               (click)="changeActiveInstrument(instrument)"
               [attr.data-instrument-id]="instrument.id"
            >{{instrument.name}}</a>
            <button (click)="createTrack()">Создать дорожку</button>
        </nav>
    </div>
    <main class="mdl-layout__content">
        <div class="page-content">
            <div class="main">
                <div class="work-menu" *ngIf="activeInstrument">
                    <span class="title">Добавить:</span>
                    <button class="btn round"
                            title="Тип"
                            *ngFor="#sound of activeInstrument.soundList"
                            [ngClass]="{
                                'active': sound.active
                            }"
                            (click)="changeActiveSound(sound.name)"
                    >
                        <i [class]="mappingSoundValToType(sound.name)"></i>
                    </button>
                    <!--<button class="btn round" title="Тип"><i class="type-2"></i></button>-->
                    <!--<button class="btn round active" title="Тип"><i class="type-3"></i></button>-->
                    <!--<button class="btn round" title="Тип"><i class="type-4"></i></button>-->
                    <span class="bpm-wrapper">
                        <span>BPM:</span>
                        <input type="text" [(ngModel)]="bpm" class="inp bpm">
                    </span>
                    <button
                            *ngIf="!isPlay"
                            (click)="play()"
                    >Play</button>
                    <button
                            *ngIf="isPlay"
                            (click)="stop()"
                    >Stop</button>
                    <button
                            *ngIf="trackList[0]?.sectorList?.length > 1"
                            (click)="removeSector()"
                    >Удалить сектор</button>
                </div>
                <div class="work-tabs-wrapper">
                    <!-- work tabs -->
                    <div class="work-tabs">
                        <div class="play" [style.transform]="linePosition" style="left:90px;"></div>
                        <div class="track"
                             *ngFor="#track of trackList"
                             [ngClass]="{
                                'active': track.instrument == activeInstrument
                             }">
                            <div class="name">
                                <div [attr.alt]="track.instrument.name">{{track.instrument.name}}</div>
                            </div>
                            <div class="sector_wrapper">
                                <div class="sector" *ngFor="#sector of track.sectorList; #sectorIndex = index">
                                    <ul>
                                        <li *ngFor="#sector of sector.soundList; #soundIndex = index"
                                            (click)="addSound(track,sectorIndex, soundIndex)"
                                            (contextmenu)="removeSound($event, track, sectorIndex, soundIndex)">
                                            <i [class]="mappingSoundValToType(sector.val)"></i>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="add-sector" (click)="addSector()">
                                <span class="add-sector__symbol">+</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>